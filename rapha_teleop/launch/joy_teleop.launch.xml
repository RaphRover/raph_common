<launch version="0.1.1">
  <arg name="joy_dev_id" default="0" description="Joystick device id" />
  <arg name="cmd_ackermann_out" default="controller/cmd_ackermann"
    description="Topic to send ackermann commands on" />

  <arg name="joy_config_file"
    default="$(find-pkg-share rapha_teleop)/config/joy_config.yaml"
    description="Path to the yaml file with parameters for joy_teleop_node" />

  <node pkg="joy" exec="joy_node">
    <param name="device_id" value="$(var joy_dev_id)" />
    <param name="coalesce_interval_ms" value="50" />
    <param name="autorepeat_rate" value="10.0" />
  </node>

  <node pkg="rapha_teleop" exec="rapha_teleop">
    <param from="$(var joy_config_file)" />
    <remap from="cmd_ackermann" to="$(var cmd_ackermann_out)" />
  </node>
</launch>